(function(){var t;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("c3")):"function"==typeof define&&define.amd?define(["jquery","c3"],t):t(jQuery,c3)})(function(t,e){var n;return n=function(n){return null==n&&(n={}),function(o,l){var r,i,a,s,u,c,h,g,p,d,f,y,x,v,b,j,w,m,z,A,k,S,q,C,_,K,N,T,B,H,L,O,Q,R,U,W,D,E,F,G,I,J,M,P,V,X,Y,Z,$,tt,et,nt,ot,lt,rt,it,at,st,ut,ct,ht,gt;if(console.log("this is "),j={localeStrings:{vs:"vs",by:"by"},c3:{}},l=t.extend(!0,{},j,l),null==(s=l.c3).size&&(s.size={}),null==(u=l.c3.size).width&&(u.width=window.innerWidth/1.4),null==(c=l.c3.size).height&&(c.height=window.innerHeight/1.4-50),null==n.type&&(n.type="line"),null==n.horizontal&&(n.horizontal=!1),null==n.stacked&&(n.stacked=!1),ot=o.getRowKeys(),0===ot.length&&ot.push([]),x=o.getColKeys(),0===x.length&&x.push([]),S=function(){var t,e,n;for(n=[],t=0,e=x.length;t<e;t++)z=x[t],n.push(z.join("-"));return n}(),et=0,w=o.aggregatorName,o.valAttrs.length&&(w+="("+o.valAttrs.join(", ")+")"),"scatter"===n.type)for(rt={x:{},y:{},t:{}},a=o.rowAttrs.concat(o.colAttrs),ut=null!=(M=a[0])?M:"",A=null!=(P=a[1])?P:"",m=a.slice(2).join("-"),st=ut,""!==A&&(st+=" "+l.localeStrings.vs+" "+A),""!==m&&(st+=" "+l.localeStrings.by+" "+m),q=0,N=ot.length;q<N;q++)for(nt=ot[q],C=0,T=x.length;C<T;C++)y=x[C],i=o.getAggregator(nt,y),null!=i.value()&&(ct=nt.concat(y),it=ct.slice(2).join("-"),""===it&&(it="series"),null==(h=rt.x)[it]&&(h[it]=[]),null==(g=rt.y)[it]&&(g[it]=[]),null==(p=rt.t)[it]&&(p[it]=[]),rt.y[it].push(null!=(V=ct[0])?V:0),rt.x[it].push(null!=(X=ct[1])?X:0),rt.t[it].push(i.format(i.value())));else{for(F=0,_=0,B=S.length;_<B;_++)ht=S[_],F+=ht.length;for(F>50&&(et=45),W=[],v=[["x"]],K=0,H=S.length;K<H;K++)k=S[K],v[0].push(k);for(r=o.rowAttrs[0],console.log(r),Y=o.input,R=0,L=Y.length;R<L;R++)D=Y[R],1!==D[r].indexOf(v)&&v.push([D[r]]);for(console.log(v),E=0,O=v.length;E<O;E++)for(U=v[E],Z=o.input,I=0,Q=Z.length;I<Q;I++)D=Z[I],U[0]===D[r]&&U.push(D[o.aggregatorName]);ut=w,n.horizontal?(A=o.rowAttrs.join("-"),m=o.colAttrs.join("-")):(A=o.colAttrs.join("-"),m=o.rowAttrs.join("-")),st=w,""!==A&&(st+=" "+l.localeStrings.vs+" "+A),""!==m&&(st+=" "+l.localeStrings.by+" "+m)}if(at=t("<p>",{style:"text-align: center; font-weight: bold"}),at.text(st),J={axis:{rotated:n.horizontal,y:{label:ut},x:{label:A,tick:{rotate:et,multiline:!1}}},data:{x:"x",type:n.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}},J=t.extend(!0,{},J,l.c3),"scatter"===n.type){gt={},G=0,b=[];for(lt in rt.x)G+=1,gt[lt]=lt+"_x",b.push([lt+"_x"].concat(rt.x[lt])),b.push([lt].concat(rt.y[lt]));J.data.xs=gt,J.data.columns=b,J.axis.x.tick={fit:!1},1===G&&(J.legend={show:!1}),J.tooltip.format={title:function(){return w},name:function(){return""},value:function(t,e,n,o){return rt.t[n][o]}}}else J.axis.x.type="category",n.horizontal?(f=function(){var t,e,n;for(n=[],e=0,t=v.length;e<t;e++)d=v[e],n.push(d.shift());return n}(),1===f.length&&f[0]===w&&(f=[""]),J.axis.x.categories=f,1===S.length&&""===S[0]&&(S=[w]),v.unshift(S),J.data.rows=v):(console.log(J),console.log(v),J.data.columns=v);return n.stacked&&(n.horizontal?J.data.groups=[function(){var t,e,n;for(n=[],e=0,t=x.length;e<t;e++)ht=x[e],n.push(ht.join("-"));return n}()]:J.data.groups=[function(){var t,e,n;for(n=[],e=0,t=ot.length;e<t;e++)ht=ot[e],n.push(ht.join("-"));return n}()]),$=t("<div>",{style:"display:none;"}).appendTo(t("body")),tt=t("<div>").appendTo($),J.bindto=tt[0],console.log(e.generate),e.generate(J),tt.detach(),$.remove(),t("<div>").append(at,tt)}},t.pivotUtilities.c3_renderers={"Bar Chart":n({type:"bar"}),"Line Chart":n()}})}).call(this);
//# sourceMappingURL=c3_renderers.min.js.map
